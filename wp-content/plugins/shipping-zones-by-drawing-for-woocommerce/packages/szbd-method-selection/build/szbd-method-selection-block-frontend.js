(()=>{"use strict";var e={819:e=>{e.exports=window.lodash}},t={};function i(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,i),n.exports}(()=>{const e=window.wc.blocksCheckout,t=window.wc.wcBlocksData,o=window.wp.element;i(819),window.wp.blocks,window.wp.i18n;const s=window.wp.data,n=window.wc.wcSettings,a=JSON.parse('{"apiVersion":2,"name":"szbd-method-selection/szbd-method-selection-block","version":"2.0.0","title":"Method Selection Block","category":"woocommerce","description":"","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-shipping-method-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}},"text":{"type":"string","default":""}},"textdomain":"szbd","editorStyle":"file:../../../build/style-szbd-shipping-map-block2.css","style":"file:../../../build/style-index2.css"}');(0,e.registerCheckoutBlock)({metadata:a,component:({checkoutExtensionData:a,extensions:c})=>{const{map_feature_active:l}=(0,n.getSetting)("szbd-method-selection_data",""),d=i(819),{setExtensionData:r}=a,p="szbd-no-picked-location",{setValidationErrors:u,clearValidationError:w,showValidationError:f}=(0,s.useDispatch)("wc/store/validation"),h=(0,s.useSelect)((e=>e("wc/store/validation").getValidationError(p))),m=(0,s.useSelect)((e=>e(t.CHECKOUT_STORE_KEY).prefersCollection())),g=(0,s.useSelect)((e=>e(t.CART_STORE_KEY).getShippingRates())),{selectShippingRate:b,setIsCartDataStale:k,setCartData:_,shippingRatesBeingSelected:E}=(0,s.useDispatch)(t.CART_STORE_KEY);return(0,o.useEffect)((()=>{if(!1===m){if(d.isUndefined(g[0]))return;const e=d.find(g[0].shipping_rates,{method_id:"pickup_location",selected:!0}),t=d.find(g[0].shipping_rates,(function(e){return"pickup_location"!=e.method_id}));d.isUndefined(e)||d.isUndefined(t)||b(t.rate_id,g[0].package_id)}}),[g]),(0,o.useEffect)((()=>{if(m){try{l&&(r("szbd","point",null),r("szbd","pluscode",""),(0,e.extensionCartUpdate)({namespace:"szbd-shipping-map-update",data:{lat:null,lng:null}}).then((function(e){})))}catch(e){}h&&w(p)}}),[m,h,u,p,w]),null}})})()})();